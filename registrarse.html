<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style_reg.css">
    <title>Registrarse</title>
    <script>
        function validarDNI() {
          var dni = document.getElementById("dni").value;
          var letra = dni.charAt(dni.length-1);
          var numeros = dni.substring(0, dni.length-1);
          if (numeros.length != 8 || isNaN(numeros)) {
            alert("El DNI debe tener 8 números");
            return false;
          }
          var letras = "TRWAGMYFPDXBNJZSQVHLCKE";
          var indice = numeros % 23;
          var letra_correcta = letras.charAt(indice);
          if (letra_correcta != letra.toUpperCase()) {
            alert("La letra del DNI no es correcta");
            return false;
          }
          return true;
        }
        
      </script>
    <script>
        function validarConfirmPass(){
          
            var pass1 = document.getElementById("pass");
            var pass2 = document.getElementById("confirm-pass");
        
            if (pass1 != pass2){
              alert("Las contraseñas no coinciden");
              return false;
            }else{
              return true;
            } 
        }
        
      </script>
      
</head>
<body>
    <form action="" class="formulario" id="ingreso">
      <header class="titulo">
        <h1>Registrarse</h1>
        <a href="index3.html" class="volver">VOLVER AL INICIO</a>
      </header>
      <h3>Ingrese sus datos</h3>

      <div class="forma">
        <div>
          <label for="name" class="datos">Nombre 
          <input type="text" class="form-data" name="name" id="name" required></label>

          <label for="surname" class="datos">Apellidos 
          <input type="text" class="form-data" name="surname" id="surname"></label>

          <label for="dni" class="datos">DNI 
          <input type="text" class="form-data" name="dni" id="dni" maxlength="10" minlength="9"></label>
        
          <label for="years" class="datos">Edad 
          <input type="number" class="form-data" name="years" id="years" min="1" max="98"></label>  
                  
          <label for="telf" class="datos">Teléfono  
          <input type="text" class="form-data" name="telf" id="telf" maxlength="10"></label>

        </div>
        <div>

          <label for="direccion" class="datos">Dirección 
          <input type="text" class="form-data" name="direccion" id="direccion"></label>

          <label for="piso" class="datos">Piso-puerta 
          <input type="text" class="form-data" name="piso" id="piso" maxlength="10"></label>

          <label for="cp" class="datos">Código Postal 
          <input type="text" class="form-data" name="cp" id="cp" maxlength="6"></label>
        
          <label for="gender" class="datos">Género
            <select name="gender" id="gender">
              <option value="male">Masculino</option>
              <option value="female">Femenino</option>
              <option value="other">Otros</option>
            </select>      
          </label>
        </div>
        <div>
          <label for="mail" class="datos">Correo electrónico 
          <input type="email" class="form-data" name="mail" id="mail" maxlength="40"></label>
          
          <label for="pass" class="datos">Contraseña 
          <input type="password" class="form-data" name="pass" id="pass" pattern="[A-Za-z0-9@#$%]{6,20}" title="Una contraseña válida debe contener entre 6 y 20 caracteres, una letra mayúscula o minúscula, un dígito, o los símboloss '@', '#', '$' y '%'"  required></label>

          <label for="confirm-pass" class="datos">Confirme Contraseña
          <input type="password" class="form-data" name="confirm-pass" id="confirm-pass"></label>
        </div>
        
        
        

      <div class="botones">
        <fieldset class="bt1">
          <input type="submit" class="submit" value="Registrar" onclick="validarDNI(), validarConfirmPass()">
        </fieldset>
        <fieldset class="bt2">
          <input type="reset" class="borrar" value="Borrar datos">
        </fieldset>
      </div>
      </div>
      
      

      <script>
        function inicializarAutocompletado() {
          var direccionInput = document.getElementById("direccion");
          var opciones = {
            types: ["address"]
          };
          
          var autocompletado = new google.maps.places.Autocomplete(direccionInput, opciones);
          
          autocompletado.addListener("place_changed", function() {
            var lugar = autocompletado.getPlace();
            console.log(lugar);
            // Hacer algo con el lugar seleccionado
          });
        }
        </script>
        
        
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAq2Ur8iqnDNNqX-WCjpjsX8xnW9muQjGw&libraries=places&callback=inicializarAutocompletado"></script>
  </form>
  
    
    
    
</body>
</html>
